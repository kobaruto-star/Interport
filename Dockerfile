# ==========================================
# ① Java 21 ランタイム（Temurinベース）を利用
# ==========================================
FROM eclipse-temurin:21-jdk-jammy

# ==========================================
# ② 作業ディレクトリを作成
#    コンテナ内で /app に移動
# ==========================================
WORKDIR /app

# ==========================================
# ③ ビルド済みの JAR ファイルをコピー
#    （pom.xmlと同階層で「target」フォルダを参照）
# ==========================================
COPY target/*.jar app.jar

# ==========================================
# ④ ポート番号を明示（Spring Bootの既定は8080）
# ==========================================
EXPOSE 8080

# ==========================================
# ⑤ Spring Bootアプリを起動
#    ENTRYPOINTでJavaコマンドを指定
# ==========================================
ENTRYPOINT ["java","-jar","app.jar"]